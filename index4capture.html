<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VideoServer</title>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.14.1/dist/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body>
    <script>
        // get the content from index.html but omit everything with class "do-not-capture"
        fetch('index.html')
            .then(response => response.text())
            .then(data => {
                const parser = new DOMParser();
                const doc = parser.parseFromString(data, 'text/html');
                // Include styles from index.html head
                const headStyles = doc.head.querySelectorAll('link[rel="stylesheet"], style');
                headStyles.forEach(styleNode => {
                    const cloned = styleNode.cloneNode(true);
                    document.head.appendChild(cloned);
                });
                // Remove elements with class "do-not-capture"
                doc.querySelectorAll('.do-not-capture').forEach(el => el.remove());
                // Insert the cleaned content into the body
                document.body.innerHTML = doc.body.innerHTML;
                // Load and execute the scripts from index.html
                const scripts = doc.querySelectorAll('script');
                scripts.forEach(script => {
                    const newScript = document.createElement('script');
                    if (script.src) {
                        newScript.src = script.src;
                    } else {
                        newScript.textContent = script.textContent;
                    }
                    document.body.appendChild(newScript);
                });
            });
    </script>
</body>
</html>